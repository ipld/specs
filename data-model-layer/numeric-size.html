<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IPLD Specifications</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="Specifications for the Inter-planetary Linked Data project">
    <link rel="preload" href="/assets/css/0.styles.af5e56d4.css" as="style"><link rel="preload" href="/assets/js/app.53df45a9.js" as="script"><link rel="preload" href="/assets/js/2.2d6107ed.js" as="script"><link rel="preload" href="/assets/js/25.516272a1.js" as="script"><link rel="prefetch" href="/assets/js/10.36f99d26.js"><link rel="prefetch" href="/assets/js/11.59f24366.js"><link rel="prefetch" href="/assets/js/12.c1d7df4d.js"><link rel="prefetch" href="/assets/js/13.c86d54ed.js"><link rel="prefetch" href="/assets/js/14.936a4978.js"><link rel="prefetch" href="/assets/js/15.f2f7624c.js"><link rel="prefetch" href="/assets/js/16.72c6b045.js"><link rel="prefetch" href="/assets/js/17.334391e0.js"><link rel="prefetch" href="/assets/js/18.57eddb4e.js"><link rel="prefetch" href="/assets/js/19.3d6009ae.js"><link rel="prefetch" href="/assets/js/20.0faf3a84.js"><link rel="prefetch" href="/assets/js/21.8e6a9f15.js"><link rel="prefetch" href="/assets/js/22.8198c0e0.js"><link rel="prefetch" href="/assets/js/23.2aaf4ccf.js"><link rel="prefetch" href="/assets/js/24.84d126d9.js"><link rel="prefetch" href="/assets/js/26.3048fe76.js"><link rel="prefetch" href="/assets/js/27.8490af3a.js"><link rel="prefetch" href="/assets/js/28.35c5c53b.js"><link rel="prefetch" href="/assets/js/29.7b73ccd3.js"><link rel="prefetch" href="/assets/js/3.97caf465.js"><link rel="prefetch" href="/assets/js/30.88e958bd.js"><link rel="prefetch" href="/assets/js/31.907c62f5.js"><link rel="prefetch" href="/assets/js/32.ffe7ef00.js"><link rel="prefetch" href="/assets/js/33.b40a76c1.js"><link rel="prefetch" href="/assets/js/34.0413fe3b.js"><link rel="prefetch" href="/assets/js/35.e44b1f90.js"><link rel="prefetch" href="/assets/js/36.d6a0c20b.js"><link rel="prefetch" href="/assets/js/37.9c344d0c.js"><link rel="prefetch" href="/assets/js/38.6d0df0c9.js"><link rel="prefetch" href="/assets/js/39.a0a46695.js"><link rel="prefetch" href="/assets/js/4.90771c25.js"><link rel="prefetch" href="/assets/js/40.cd0be5fe.js"><link rel="prefetch" href="/assets/js/41.e4a5d0d3.js"><link rel="prefetch" href="/assets/js/42.8774418c.js"><link rel="prefetch" href="/assets/js/43.92d2c0b4.js"><link rel="prefetch" href="/assets/js/44.e7558d91.js"><link rel="prefetch" href="/assets/js/45.35adffbf.js"><link rel="prefetch" href="/assets/js/46.12e4f96b.js"><link rel="prefetch" href="/assets/js/47.3c4d415e.js"><link rel="prefetch" href="/assets/js/48.49b17ed3.js"><link rel="prefetch" href="/assets/js/49.f5c65001.js"><link rel="prefetch" href="/assets/js/5.72903eba.js"><link rel="prefetch" href="/assets/js/50.8395b13e.js"><link rel="prefetch" href="/assets/js/51.6b1adbc2.js"><link rel="prefetch" href="/assets/js/52.07508add.js"><link rel="prefetch" href="/assets/js/53.b23d88ed.js"><link rel="prefetch" href="/assets/js/54.71287e26.js"><link rel="prefetch" href="/assets/js/55.b7e2be3b.js"><link rel="prefetch" href="/assets/js/56.ea58ec31.js"><link rel="prefetch" href="/assets/js/57.fd82fcf4.js"><link rel="prefetch" href="/assets/js/58.92d0aadd.js"><link rel="prefetch" href="/assets/js/59.a1eb250f.js"><link rel="prefetch" href="/assets/js/6.d29fd7af.js"><link rel="prefetch" href="/assets/js/60.d63eb9a5.js"><link rel="prefetch" href="/assets/js/61.417b32b0.js"><link rel="prefetch" href="/assets/js/62.8901308b.js"><link rel="prefetch" href="/assets/js/63.a4e562a5.js"><link rel="prefetch" href="/assets/js/64.bd4862d6.js"><link rel="prefetch" href="/assets/js/65.548385bf.js"><link rel="prefetch" href="/assets/js/66.5343fd59.js"><link rel="prefetch" href="/assets/js/67.6775bdf5.js"><link rel="prefetch" href="/assets/js/68.ca91ea4d.js"><link rel="prefetch" href="/assets/js/69.ee30823a.js"><link rel="prefetch" href="/assets/js/7.aac06655.js"><link rel="prefetch" href="/assets/js/70.930aa1b5.js"><link rel="prefetch" href="/assets/js/71.c6ce3eaf.js"><link rel="prefetch" href="/assets/js/72.7bfe125b.js"><link rel="prefetch" href="/assets/js/73.0810f010.js"><link rel="prefetch" href="/assets/js/74.b0c24f84.js"><link rel="prefetch" href="/assets/js/75.5794fe7c.js"><link rel="prefetch" href="/assets/js/76.73bbab1d.js"><link rel="prefetch" href="/assets/js/77.07b723ed.js"><link rel="prefetch" href="/assets/js/78.0f605e44.js"><link rel="prefetch" href="/assets/js/79.2adb0a74.js"><link rel="prefetch" href="/assets/js/8.623a5dd0.js"><link rel="prefetch" href="/assets/js/80.00008d60.js"><link rel="prefetch" href="/assets/js/81.9a645944.js"><link rel="prefetch" href="/assets/js/9.05249855.js">
    <link rel="stylesheet" href="/assets/css/0.styles.af5e56d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">IPLD Specifications</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/schemas/" class="nav-link">
  IPLD Schemas
</a></div> <a href="https://github.com/ipld/specs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/schemas/" class="nav-link">
  IPLD Schemas
</a></div> <a href="https://github.com/ipld/specs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/data-model-layer/numeric-size.html#integers" class="sidebar-link">Integers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/data-model-layer/numeric-size.html#why" class="sidebar-link">Why?</a></li><li class="sidebar-sub-header"><a href="/data-model-layer/numeric-size.html#why-have-size-limits-at-all" class="sidebar-link">Why have size limits at all?</a></li><li class="sidebar-sub-header"><a href="/data-model-layer/numeric-size.html#why-2-53" class="sidebar-link">Why 2^53?</a></li><li class="sidebar-sub-header"><a href="/data-model-layer/numeric-size.html#what-if-i-want-to-write-an-ipld-library-that-supports-arbitrarily-large-ints" class="sidebar-link">What if I want to write an IPLD library that supports arbitrarily large ints?</a></li><li class="sidebar-sub-header"><a href="/data-model-layer/numeric-size.html#what-if-i-ship-an-ipld-library-that-only-supports-2-47" class="sidebar-link">What if I ship an IPLD library that only supports 2^47?</a></li><li class="sidebar-sub-header"><a href="/data-model-layer/numeric-size.html#what-if-my-ipld-library-encounters-serialized-numbers-that-are-bigger-than-it-supports" class="sidebar-link">What if my IPLD library encounters serialized numbers that are bigger than it supports?</a></li></ul></li><li><a href="/data-model-layer/numeric-size.html#floating-point" class="sidebar-link">Floating point</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="numeric-sizes"><a href="#numeric-sizes" class="header-anchor">#</a> Numeric sizes</h1> <h2 id="integers"><a href="#integers" class="header-anchor">#</a> Integers</h2> <p>In principle, we consider the range of integers to be infinite.
In practice, many libraries may choose to implement things in such a way that numbers may have limited sizes.</p> <p>We require that IPLD libraries support integers up to at least size 2^53 in order to be considered a full-featured core-compliant IPLD library.</p> <p>We love IPLD libraries that support arbitrarily large numbers.  But 2^53 is the critical minimum.</p> <h3 id="why"><a href="#why" class="header-anchor">#</a> Why?</h3> <p>Because.</p> <p>But let's ask more detailed questions, and answer those:</p> <h3 id="why-have-size-limits-at-all"><a href="#why-have-size-limits-at-all" class="header-anchor">#</a> Why have size limits at all?</h3> <p>Most programming languages and compilers already have size limits when working with numbers.</p> <p>Being in denial about this when we describe IPLD is unconstructive:
It's important for us to be able to provide concrete recommendations about what we expect from IPLD libraries --
and if that guidance is &quot;always use a bigint type, regardless of whether you language and ecosystem provides a usable and widely adopted one&quot;,
then that guidance will be frequently ignored, regardless of how principled and well-intentioned it may be.</p> <h3 id="why-2-53"><a href="#why-2-53" class="header-anchor">#</a> Why 2^53?</h3> <p>This 2^53 number is chosen because it's reasonably high (e.g., you can use it for timestamps),
and also because it's reasonably practical (it happens to be the number above which javascript's handling of numbers gets Interesting).</p> <p><strong>Above this number, it's likely that you'll want to consider application-level and language-level numeric compatibility issues which are bigger in scope than IPLD <em>anyway</em>.</strong></p> <p>32-bit signed, 32-bit unsigned, 64-bit signed, and 64-bit unsigned integers are also all common numeric sizes to consider,
because those are often the well-supported numeric types in programming languages.
When writing a new IPLD library, we suggest you pick &quot;64-bit signed&quot; if these are your options.</p> <p>(32-bit numbers are definitely small enough to get you into trouble;
the <a href="https://en.wikipedia.org/wiki/Year_2038_problem" target="_blank" rel="noopener noreferrer">2038 problem<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is coming up <em>very</em> soon now.
By contrast, a 53-bit integer used to represent a second-granularity timestamp should get you to about the year 285,618,384.
So... it should suffice.)</p> <h3 id="what-if-i-want-to-write-an-ipld-library-that-supports-arbitrarily-large-ints"><a href="#what-if-i-want-to-write-an-ipld-library-that-supports-arbitrarily-large-ints" class="header-anchor">#</a> What if I want to write an IPLD library that supports arbitrarily large ints?</h3> <p><strong>Go for it.</strong></p> <p>If it is possible to support arbitrary &quot;BigInt&quot; in your library, that's fantastic.  Do it.</p> <p>We just don't <em>mandate</em> this as part of the minimum core feature checklist for IPLD libraries,
because we understand that it's impractical in some programming languages,
either because the &quot;BigInt&quot; types have different performance characteristics,
or aren't widely agreed upon in the community,
or are otherwise simply syntactically or ergonomically clunky to handle, etc.
But if you see it as easy to support: <em>go for it</em>.</p> <h3 id="what-if-i-ship-an-ipld-library-that-only-supports-2-47"><a href="#what-if-i-ship-an-ipld-library-that-only-supports-2-47" class="header-anchor">#</a> What if I ship an IPLD library that only supports 2^47?</h3> <p>(... or some other completely arbitrary number.)</p> <p>Fine.</p> <p>Please be very clear about that in your documentation.</p> <p>We won't list your library in our own docs as being a full-featured core-compliant IPLD library.</p> <p>But go nuts; nobody's going to stop you.
Your library may run into hard times processing data that's produced by other IPLD libraries, but that's a choice you're free to make.</p> <h3 id="what-if-my-ipld-library-encounters-serialized-numbers-that-are-bigger-than-it-supports"><a href="#what-if-my-ipld-library-encounters-serialized-numbers-that-are-bigger-than-it-supports" class="header-anchor">#</a> What if my IPLD library encounters serialized numbers that are bigger than it supports?</h3> <p>Then it must error.  Clearly, one would hope.</p> <p>IPLD libraries must not quietly round down to their max (or up to their min) supported values -- they must error.</p> <p>Fortunately, this rule gets us pretty far, pretty easily -- because we don't <em>do math</em> in IPLD,
these errors can really only arise during deserialization,
and should fit naturally into the error reporting flow that deserialization already naturally needs.</p> <h2 id="floating-point"><a href="#floating-point" class="header-anchor">#</a> Floating point</h2> <p>// a lot of text can go here.</p> <p>// it would be nice if at least some of it can talk about the inherent issues of precision ambiguity in floating point,
// and how fixed point is actually an important consideration in many sufficiently scientific applications.
// discussion of fractions and how floating point approximations of them are necessarily wrong would also be appropriate.
// in general it would be great if this document can remind people that floats are rarely &quot;the answer&quot;, and are certainly not the only answer.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ipld/specs/edit/master/data-model-layer/numeric-size.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/17/2020, 9:15:39 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.53df45a9.js" defer></script><script src="/assets/js/2.2d6107ed.js" defer></script><script src="/assets/js/25.516272a1.js" defer></script>
  </body>
</html>
